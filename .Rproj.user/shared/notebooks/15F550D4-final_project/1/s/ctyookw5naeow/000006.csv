"0","findings <- read_csv(""Findings.csv"")"
"0",""
"0","# Check the ev_id in findings"
"0","cat(""Findings ev_id:\n"")"
"1","Findings ev_id:
"
"0","print(head(findings$ev_id, 10))"
"1"," [1]"
"1"," ""20080107X00026"""
"1"," ""20080107X00026"""
"1"," ""20080109X00036"""
"1"," ""20080109X00036"""
"1"," ""20080107X00027"""
"1"," ""20080107X00027"""
"1"," ""20080115X00051"""
"1"," ""20080115X00051"""
"1","
"
"1"," [9]"
"1"," ""20080115X00051"""
"1"," ""20080115X00047"""
"1","
"
"0","cat(""\nClass:"", class(findings$ev_id), ""\n"")"
"1","
Class:"
"1"," "
"1","character"
"1"," "
"1","
"
"0","# Check the ev_id in aviation_clean"
"0","cat(""\n\nAviation_clean ev_id:\n"")"
"1","

Aviation_clean ev_id:
"
"0","print(head(aviation_clean$ev_id, 10))"
"1"," [1]"
"1"," ""20080107X00026"""
"1"," ""20080109X00036"""
"1"," ""20080107X00027"""
"1"," ""20080115X00051"""
"1"," ""20080115X00047"""
"1"," ""20080123X00096"""
"1"," ""20080116X00063"""
"1"," ""20080114X00044"""
"1","
"
"1"," [9]"
"1"," ""20080122X00087"""
"1"," ""20080220X00212"""
"1","
"
"0","cat(""\nClass:"", class(aviation_clean$ev_id), ""\n"")"
"1","
Class:"
"1"," "
"1","character"
"1"," "
"1","
"
"0","# Check if they match"
"0","cat(""\n\nDo any match?\n"")"
"1","

Do any match?
"
"0","print(findings$ev_id[1] %in% aviation_clean$ev_id)"
"1","[1]"
"1"," TRUE"
"1","
"
"0","print(findings$ev_id[2] %in% aviation_clean$ev_id)"
"1","[1]"
"1"," TRUE"
"1","
"
"0","print(findings$ev_id[3] %in% aviation_clean$ev_id)"
"1","[1]"
"1"," TRUE"
"1","
"
"0","# Create findings_primary - take first finding per event"
"0","findings_primary <- findings %>%"
"0","  group_by(ev_id) %>%"
"0","  slice(1) %>%"
"0","  ungroup() %>%"
"0","  mutate("
"0","    finding_category = str_extract(finding_description, ""^[^-]+"")"
"0","  ) %>%"
"0","  select(ev_id, finding_code, finding_description, finding_category, Cause_Factor)"
"0",""
"0","cat(""findings_primary created:\n"")"
"1","findings_primary created:
"
"0","print(head(findings_primary, 10))"
